<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Principle of Least Action - Interactive Simulation</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Visualizing the Principle of Least Action</h1>
            <p class="subtitle">Explore how nature "chooses" paths across optics, classical mechanics, and quantum physics</p>
        </header>

        <div class="tabs">
            <button class="tab-button active" data-tab="fermat">Fermat's Principle (Optics)</button>
            <button class="tab-button" data-tab="mechanics">Classical Mechanics (Basketball)</button>
            <button class="tab-button" data-tab="quantum">Quantum Double-Slit</button>
        </div>

        <div class="tab-content active" id="fermat">
            <div class="simulation-wrapper">
                <div class="info-panel">
                    <h2>Fermat's Principle of Least Time</h2>
                    <p>Light travels between two points along the path that takes the least time. Drag the refraction point to see how travel time changes.</p>
                    <div class="controls">
                        <label>
                            Refractive Index (n‚ÇÇ):
                            <input type="range" id="refractiveIndex" min="1.0" max="2.5" step="0.1" value="1.5">
                            <span id="refractiveIndexValue">1.5</span>
                        </label>
                        <label>
                            <input type="checkbox" id="showAllPaths" checked> Show Alternative Paths
                        </label>
                        <label>
                            <input type="checkbox" id="showWavefronts"> Show Wavefronts
                        </label>
                    </div>
                    <div class="stats">
                        <p>Current Travel Time: <span id="optimalTime">0.00</span> ns</p>
                        <p>Incident Angle (Œ∏‚ÇÅ): <span id="angleIncidence">0.0</span>¬∞</p>
                        <p>Refracted Angle (Œ∏‚ÇÇ): <span id="angleReflection">0.0</span>¬∞</p>
                    </div>
                    <div class="guided-practice">
                        <h3>üéØ Guided Practice</h3>
                        <ol>
                            <li><strong>Drag the blue dot</strong> along the boundary to change the refraction point.</li>
                            <li><strong>Watch the graph:</strong> Find the minimum travel time on the curve.</li>
                            <li><strong>Verify Snell's Law:</strong> Look for "‚úì Snell's Law satisfied!"</li>
                            <li><strong>Toggle wavefronts:</strong> See how light slows in water.</li>
                            <li><strong>Adjust n‚ÇÇ:</strong> Change the refractive index slider.</li>
                        </ol>
                    </div>
                </div>
                <canvas id="fermatCanvas" width="800" height="600"></canvas>
            </div>
            <div class="physics-explanation">
                <h3>üìö Physics Explanation: Fermat's Principle</h3>
                
                <div class="explanation-section">
                    <h4>The Principle of Least Time</h4>
                    <p>Fermat's Principle states that light traveling between two points follows the path that takes the <strong>minimum time</strong> (or more precisely, stationary time). This elegant principle explains both reflection and refraction.</p>
                    
                    <div class="formula">
                        <strong>Travel Time:</strong> T = d‚ÇÅ/v‚ÇÅ + d‚ÇÇ/v‚ÇÇ
                    </div>
                    
                    <p>where d‚ÇÅ and d‚ÇÇ are path segments, and v‚ÇÅ and v‚ÇÇ are light speeds in each medium.</p>
                </div>

                <div class="explanation-section">
                    <h4>Snell's Law from Least Time</h4>
                    <p>For refraction between two media with refractive indices n‚ÇÅ and n‚ÇÇ, Fermat's principle leads directly to <strong>Snell's Law</strong>:</p>
                    
                    <div class="formula">
                        <strong>Snell's Law:</strong> n‚ÇÅ sin(Œ∏‚ÇÅ) = n‚ÇÇ sin(Œ∏‚ÇÇ)
                    </div>
                    
                    <p>In the simulation, the <span class="highlight-green">green dashed path</span> shows this optimal route. When you drag the refraction point to minimize travel time, Snell's Law is automatically satisfied! The <span class="highlight-red">red paths</span> show suboptimal alternatives.</p>
                    
                    <p>The travel time graph at the bottom shows T(x) for all possible refraction points. Notice how it has a smooth minimum‚Äîthis is where ‚àÇT/‚àÇx = 0, which mathematically derives Snell's Law.</p>
                </div>

                <div class="explanation-section">
                    <h4>Wave Interpretation: Huygens' Principle</h4>
                    <p>When you enable wavefronts, you see the wave nature of light. Circular wavefronts expand from the source in air (at speed c/n‚ÇÅ). According to <strong>Huygens' principle</strong>, each point on a wavefront acts as a source of secondary wavelets.</p>
                    
                    <p>When the wavefront crosses into water, it slows down (speed becomes c/n‚ÇÇ), causing the wavefronts to bend‚Äîthis is refraction! The refracted wavelets demonstrate why only the least-time path carries energy: wavefronts from other paths arrive at different times and cancel due to destructive interference.</p>
                </div>

                <div class="explanation-section">
                    <h4>Connection to Action Principle</h4>
                    <p>Fermat's principle is actually a special case of the <strong>Principle of Least Action</strong>. For light, the "action" is proportional to travel time (or optical path length n¬∑d). This connects geometrical optics to the fundamental action principle that governs all of physics.</p>
                    
                    <div class="formula">
                        Optical Path Length: S = ‚à´ n(s) ds
                    </div>
                    
                    <p>Nature extremizes this quantity, leading to Snell's law for refraction and the law of reflection.</p>
                </div>

                <div class="explanation-section">
                    <h4>Feynman's Path Integral View</h4>
                    <p>Richard Feynman showed that we can think of light as "trying all possible paths" simultaneously. Each path contributes a quantum amplitude with a phase œÜ = 2œÄL/Œª. Paths far from the optimal one have rapidly varying phases that cancel out, while paths near the minimum time add constructively.</p>
                    
                    <p><em>This same reasoning applies to classical mechanics (basketball trajectories) and quantum mechanics (double-slit), unifying all three scenarios under one principle!</em></p>
                </div>
            </div>
        </div>

        <div class="tab-content" id="mechanics">
            <div class="simulation-wrapper">
                <div class="info-panel">
                    <h2>Classical Mechanics: Least Action</h2>
                    <p>A basketball follows the path that extremizes the action. Multiple paths are possible, but only one survives!</p>
                    <div class="controls">
                        <label>
                            Path Mode:
                            <select id="pathMode">
                                <option value="spray">Spray (All Paths)</option>
                                <option value="neighborhood">Neighborhood</option>
                                <option value="heatmap">Heatmap</option>
                            </select>
                        </label>
                        <label>
                            Number of Paths:
                            <input type="range" id="numPaths" min="10" max="50" step="5" value="30">
                            <span id="numPathsValue">30</span>
                        </label>
                        <label>
                            Total Time T (s):
                            <input type="range" id="totalTime" min="0.5" max="2.5" step="0.1" value="1.2">
                            <span id="totalTimeValue">1.2</span>
                        </label>
                        <label>
                            Effective ‚Ñè:
                            <input type="range" id="hbarEff" min="0.1" max="2.0" step="0.1" value="0.5">
                            <span id="hbarEffValue">0.5</span>
                        </label>
                        <label>
                            Gravity (m/s¬≤):
                            <input type="range" id="gravity" min="5" max="15" step="0.5" value="9.8">
                            <span id="gravityValue">9.8</span>
                        </label>
                        <label>
                            <input type="checkbox" id="showAllTrajectories" checked> Show All Paths
                        </label>
                        <label>
                            <input type="checkbox" id="showPhasors" checked> Show Phasors
                        </label>
                        <label>
                            <input type="checkbox" id="showClassicalPath" checked> Show Classical Path
                        </label>
                        <label>
                            <input type="checkbox" id="showActionLabels"> Show Action Labels
                        </label>
                    </div>
                    <div class="stats">
                        <p>Classical Action: <span id="optimalAction">0.00</span> J¬∑s</p>
                        <p>Flight Time: <span id="flightTime">0.00</span> s</p>
                        <p>Phasor Sum |Œ£|: <span id="phasorMagnitude">0.00</span></p>
                    </div>
                    <div class="guided-practice">
                        <h3>üéØ Guided Practice</h3>
                        <ol>
                            <li><strong>Spray Mode:</strong> See many possible paths. Classical path glows green.</li>
                            <li><strong>Watch phasors:</strong> Paths add as vectors. Only near-classical paths align!</li>
                            <li><strong>Adjust ‚Ñè:</strong> Lower = sharper classical dominance.</li>
                            <li><strong>Neighborhood Mode:</strong> See how paths near classical add constructively.</li>
                            <li><strong>Drag the hoop:</strong> Watch how the classical path adapts.</li>
                        </ol>
                    </div>
                </div>
                <canvas id="mechanicsCanvas" width="800" height="600"></canvas>
            </div>
            <div class="physics-explanation">
                <h3>üìö Physics Explanation: Hamilton's Principle & Sum Over Paths</h3>
                
                <div class="explanation-section">
                    <h4>The Principle of Stationary Action</h4>
                    <p>For a particle moving from point A to point B in a fixed time T, the actual path is the one that makes the <strong>action</strong> stationary (usually a minimum). The action is:</p>
                    
                    <div class="formula">
                        <strong>Action:</strong> S = ‚à´‚ÇÄ·µÄ (T - V) dt = ‚à´‚ÇÄ·µÄ (¬Ωmv¬≤ - mgy) dt
                    </div>
                    
                    <p>where T is kinetic energy and V is potential energy. This is <strong>Hamilton's Principle</strong>, the foundation of classical mechanics.</p>
                </div>

                <div class="explanation-section">
                    <h4>Why the Classical Path Dominates</h4>
                    <p>Imagine the ball "trying" all possible paths. In quantum mechanics (Feynman's path integral), each path contributes an amplitude:</p>
                    
                    <div class="formula">
                        <strong>Amplitude per path:</strong> e^(iS/‚Ñè)
                    </div>
                    
                    <p>Paths with similar action have similar phases ‚Üí <strong>constructive interference</strong>. Paths far from the stationary action have rapidly varying phases ‚Üí <strong>destructive interference</strong>. The classical path sits where ‚àÇS/‚àÇpath = 0, so nearby paths all contribute in phase!</p>
                </div>

                <div class="explanation-section">
                    <h4>The Phase Diagram Visualization</h4>
                    <p>The phasor diagram shows vectors e^(iS/‚Ñè) for each path. When you sum them tip-to-tail:</p>
                    <ul>
                        <li><strong>Near classical path:</strong> Phasors point roughly the same direction ‚Üí large sum</li>
                        <li><strong>Far from classical:</strong> Phasors point randomly ‚Üí cancel out</li>
                        <li><strong>Lower ‚Ñè_eff:</strong> Phases rotate faster ‚Üí only classical path survives (macroscopic limit)</li>
                    </ul>
                </div>

                <div class="explanation-section">
                    <h4>Three Visualization Modes</h4>
                    <p><strong>Spray Mode:</strong> Shows diverse paths (loops, zig-zags). Color indicates action (blue = low, red = high). The classical path is the greenest!</p>
                    
                    <p><strong>Neighborhood Mode:</strong> Paths near the classical trajectory. Watch how the phasor sum grows as you add paths close to the classical one.</p>
                    
                    <p><strong>Heatmap Mode:</strong> Grid of paths showing the "action landscape." The classical path sits in the valley.</p>
                </div>

                <div class="explanation-section">
                    <h4>From Quantum to Classical</h4>
                    <p>This simulation bridges quantum and classical physics! For a macroscopic basketball, ‚Ñè is so tiny that only the classical path contributes. But the <em>principle</em> is the same: nature sums over all possibilities, and stationary action dominates.</p>
                    
                    <p>This is Feynman's profound insight: <strong>classical mechanics emerges from quantum mechanics via stationary phase</strong>.</p>
                </div>
            </div>
        </div>

        <div class="tab-content" id="quantum">
            <div class="info-panel">
                <h2>Quantum Double-Slit: Sum Over Paths</h2>
                <p>Particles take all possible paths. The interference pattern emerges from summing quantum amplitudes.</p>
                <div class="controls">
                    <label>
                        Slit Separation (mm):
                        <input type="range" id="slitSeparation" min="0.1" max="1.0" step="0.1" value="0.5">
                        <span id="slitSeparationValue">0.5</span>
                    </label>
                    <label>
                        Wavelength (nm):
                        <input type="range" id="wavelength" min="400" max="700" step="10" value="550">
                        <span id="wavelengthValue">550</span>
                    </label>
                    <label>
                        <input type="checkbox" id="showPaths" checked> Show Sample Paths
                    </label>
                    <label>
                        <input type="checkbox" id="showArrows" checked> Show Phase Arrows
                    </label>
                </div>
                <div class="stats">
                    <p>Detector Position: <span id="detectorPos">0.0</span> mm</p>
                    <p>Path Difference: <span id="pathDiff">0.0</span> nm</p>
                    <p>Intensity: <span id="intensity">0.00</span></p>
                </div>
            </div>
            <canvas id="quantumCanvas" width="800" height="600"></canvas>
        </div>
    </div>

    <script src="fermat.js"></script>
    <script src="mechanics.js"></script>
    <script src="quantum.js"></script>
    <script src="main.js"></script>
</body>
</html>
